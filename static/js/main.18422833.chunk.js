(this.webpackJsonpthemovie=this.webpackJsonpthemovie||[]).push([[0],{22:function(e,t,a){e.exports=a(40)},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(19),c=a.n(s),o=a(3),r=(a(27),[{name:"News",className:"fas fa-star",path:"/",exact:!0},{name:"Popular",className:"fas fa-fire",path:"/popular"},{name:"Search",className:"fas fa-search",path:"/search"},{name:"My List",className:"fas fa-list-ul",path:"/myList"}]),l=function(){var e=function(){window.innerWidth<568&&(document.querySelector(".nav").classList.toggle("nav--active"),document.querySelector(".header__barIcon").classList.toggle("fa-times"))},t=r.map((function(t){return n.a.createElement("li",{className:"nav__item",key:t.name},n.a.createElement(o.c,{to:t.path,exact:!!t.exact&&t.exact,className:"nav__link",activeClassName:"nav__link--active"},n.a.createElement("div",{className:"nav__linkContainer",onClick:e},n.a.createElement("span",{className:"nav__icon ".concat(t.className)}),n.a.createElement("p",{className:"nav__linkName"},t.name))))}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.c,{to:"/"},n.a.createElement("h1",{className:"header__title"},"TheMovie")),n.a.createElement("button",{className:"header__barIcon fas fa-bars",onClick:e}),n.a.createElement("nav",{className:"header__nav nav"},n.a.createElement("ul",{className:"nav__list"},t)))},m=a(11),v=a(5),u=a(6),p=a(8),h=a(7),_=a(9),d=(a(33),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){var e=[];fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat(a.props.apiKey,"&language=en-US&page=1")).then((function(e){return e.json()})).then((function(t){t.results.sort((function(e,t){var a=e.popularity,i=t.popularity;return a<i?1:a>i?-1:0})),t.results.forEach((function(t){return e.push(t)})),a.setState({popularFilms:e,activeMovieTitle:e[0].title,activeMovieDescribe:e[0].overview,activeMovieBackDrop:e[0].backdrop_path,activeMoviePoster:e[0].poster_path,activeMovieId:e[0].id,activeMovieReleaseDate:e[0].release_date,activeMovieVoteAverage:e[0].vote_average,firstId:0})})).catch((function(e){return console.log(e)}))},a.handleClickMyList=function(){var e={title:a.state.activeMovieTitle,image:a.state.activeMoviePoster},t=a.state.myList;if(null!==localStorage.getItem("myList")){var i=!1,n=0;t.forEach((function(e,t){e.title===a.state.activeMovieTitle&&(i=!0,n=t)})),!0===i?t.splice(n,1):t.push(e),localStorage.setItem("myList",JSON.stringify(t)),a.setState({myList:t})}else t.push(e),localStorage.setItem("myList",JSON.stringify(t)),a.setState({myList:t})},a.checkIfExistInMyList=function(){var e=a.state.myList,t=!1;if(0!==e.length)for(var i=0;i<e.length;i++){if(e[i].title===a.state.activeMovieTitle){t=!0;break}t=!1}else t=!1;return t},a.handleClickBack=function(){a.state.firstId<16&&(document.querySelector('[data-id="'.concat(a.state.firstId,'"]')).classList.remove("moviesContainer__singleItem--active"),document.querySelector('[data-id="'.concat(a.state.firstId+4,'"]')).classList.add("moviesContainer__singleItem--active"),a.setState((function(e){return{firstId:e.firstId+1}})))},a.handleClickNext=function(){a.state.firstId>0&&a.state.firstId<=16&&(document.querySelector('[data-id="'.concat(a.state.firstId+3,'"]')).classList.remove("moviesContainer__singleItem--active"),document.querySelector('[data-id="'.concat(a.state.firstId-1,'"]')).classList.add("moviesContainer__singleItem--active"),a.setState((function(e){return{firstId:e.firstId-1}})))},a.state={popularFilms:[],activeMovieTitle:"",activeMovieDescribe:"",activeMovieBackDrop:"",activeMoviePoster:"",activeMovieId:0,activeMovieVoteAverage:0,activeMovieReleaseDate:"",firstId:0,myList:JSON.parse(localStorage.getItem("myList"))||[]},a}return Object(_.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.popularFilms.map((function(t,a){return n.a.createElement("li",{className:"moviesContainer__singleItem ".concat(a<=4?"moviesContainer__singleItem--active":""),"data-id":a,key:t.id,onClick:function(){e.setState({activeMovieTitle:t.title,activeMovieBackDrop:t.backdrop_path,activeMovieDescribe:t.overview,activeMovieId:t.id,activeMoviePoster:t.poster_path,activeMovieReleaseDate:t.release_date,activeMovieVoteAverage:t.vote_average})}},n.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(t.poster_path),alt:"Movie img",className:"moviesContainer__movieImage"}))})),a={pathname:"news/".concat(this.state.activeMovieTitle),aboutProps:{movieId:this.state.activeMovieId,apiKey:this.props.apiKey,posterPath:this.state.activeMoviePoster,backPath:this.state.activeMovieBackDrop,releaseDate:this.state.activeMovieReleaseDate,voteAverage:this.state.activeMovieVoteAverage,movieTitle:this.state.activeMovieTitle,movieDesc:this.state.activeMovieDescribe,prevPath:"/"}},i=this.checkIfExistInMyList();return n.a.createElement("div",{className:"main__newsPage newsPage",style:{backgroundImage:'url("https://image.tmdb.org/t/p/original'.concat(this.state.activeMovieBackDrop,'")')}},n.a.createElement("div",{className:"newsPage__container"},n.a.createElement("h3",{className:"newsPage__activeMovieTitle"},this.state.activeMovieTitle),n.a.createElement("h3",{className:"newsPage__activeMovieDesc"},this.state.activeMovieDescribe),n.a.createElement("button",{className:"newsPage__button newsPage__button--more"},n.a.createElement(o.c,{to:a,className:"newsPage__button--link"},"More")),n.a.createElement("button",{className:"newsPage__button newsPage__button--myList",onClick:this.handleClickMyList},"MyList ",i?"-":"+")),n.a.createElement("div",{className:"newsPage__moviesContainer moviesContainer"},n.a.createElement("button",{className:"moviesContainer__button moviesContainer__button--back ".concat(this.state.firstId<16?"moviesContainer__button--active":""," fas fa-angle-left"),onClick:this.handleClickBack}),n.a.createElement("ul",{className:"moviesContainer__movieList"},t),n.a.createElement("button",{className:"moviesContainer__button moviesContainer__button--next ".concat(this.state.firstId>0?"moviesContainer__button--active":""," fas fa-angle-right"),onClick:this.handleClickNext})))}}]),t}(i.Component)),g=(a(34),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).clickButtonClose=function(){document.querySelector(".singleMovie__watchContainer").classList.remove("singleMovie__watchContainer--active");var e=document.querySelector(".singleMovie__iframe");if(e){var t=e.src;e.src=t}},a.state={trailerUrl:""},a}return Object(_.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.themoviedb.org/3/movie/".concat(this.props.movieId,"/videos?api_key=").concat(this.props.apiKey,"&language=en-US")).then((function(e){return e.json()})).then((function(t){var a="";t.results.forEach((function(e){"Trailer"===e.type&&(a=e.key)})),e.setState({trailerUrl:"https://www.youtube.com/embed/".concat(a)})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"singleMovie",style:{backgroundImage:'url("https://image.tmdb.org/t/p/original'.concat(this.props.backDropPath,'")')}},n.a.createElement("button",{className:"singleMovie__back"},n.a.createElement(o.b,{to:"".concat(this.props.prevPath),className:"singleMovie__back--text"},n.a.createElement("span",{className:"singleMovie__back--icon fas fa-arrow-left"})," Back")),n.a.createElement("div",{className:"singleMovie__container"},n.a.createElement("div",{className:"singleMovie__singleItem singleMovie__singleItem--first"},n.a.createElement("i",{className:"singleMovie__icon fas fa-star"}),n.a.createElement("h3",{className:"singleMovie__voteAverage"},this.props.voteAverage," / 10")),n.a.createElement("div",{className:"singleMovie__singleItem singleMovie__singleItem--second"},n.a.createElement("h3",{className:"singleMovie__releaseDate"},"Release date: ",n.a.createElement("span",{className:"singleMovie__releaseDate--bold"},this.props.releaseDate)))),n.a.createElement("h2",{className:"singleMovie__title"},this.props.title),n.a.createElement("p",{className:"singleMovie__describe"},this.props.movieDesc),n.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(this.props.posterPath),alt:"Poster img",className:"singleMovie__poster"}),n.a.createElement("button",{className:"singleMovie__buttonWatch",onClick:function(){return document.querySelector(".singleMovie__watchContainer").classList.add("singleMovie__watchContainer--active")}},"Watch trailer"),n.a.createElement("div",{className:"singleMovie__watchContainer"},n.a.createElement("button",{className:"singleMovie__iframeClose fas fa-times",onClick:this.clickButtonClose}),n.a.createElement("iframe",{title:"Official Trailer",src:0!==this.state.trailerUrl.length?this.state.trailerUrl:"",frameBorder:"0",allowFullScreen:!0,className:"singleMovie__iframe"})))}}]),t}(i.Component)),f=function(e){var t=e.location,a=void 0!==t.aboutProps?t.aboutProps:"";return void 0!==a?n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{title:a.movieTitle,apiKey:a.apiKey,movieId:a.movieId,posterPath:a.posterPath,backDropPath:a.backPath,releaseDate:a.releaseDate,voteAverage:a.voteAverage,movieDesc:a.movieDesc,prevPath:a.prevPath})):""},b=(a(35),function(e){var t={pathname:"popular/".concat(e.title),aboutProps:{movieId:e.id,apiKey:e.apiKey,posterPath:e.posterPath,backDropPath:e.backPath,releaseDate:e.releaseDate,voteAverage:e.voteAverage,movieTitle:e.title,movieDesc:e.movieDesc,prevPath:"/popular"}};return n.a.createElement("div",{className:"list__singleItem ".concat(1===e.index?"list__singleItem--active":""),"data-id":e.index},n.a.createElement("span",{className:"list__itemIndex"},e.index),n.a.createElement("h3",{className:"list__itemTitle"},e.title),n.a.createElement("div",{className:"list__itemImageContainer"},n.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(e.posterPath),alt:"Movie poster",className:"list__itemSingleImage"})),n.a.createElement("button",{className:"list__button"},n.a.createElement(o.c,{to:t,className:"list__button--link"},"More")))}),E=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleClickDot=function(e){e.preventDefault();var t=parseInt(e.target.dataset.dotid);document.querySelector('[data-dotid="'.concat(a.state.popularMovieActiveIndex,'"]')).classList.remove("dotList__dotButton--active"),document.querySelector('[data-dotid="'.concat(t,'"]')).classList.add("dotList__dotButton--active"),document.querySelector('[data-id="'.concat(a.state.popularMovieActiveIndex,'"]')).classList.remove("list__singleItem--active"),document.querySelector('[data-id="'.concat(t,'"]')).classList.add("list__singleItem--active"),a.setState({popularMovieActiveIndex:t})},a.state={popularMovieList:[],popularMovieActiveIndex:1},a}return Object(_.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.themoviedb.org/3/movie/popular?api_key=".concat(this.props.apiKey,"&language=en-US&page=1")).then((function(e){return e.json()})).then((function(t){var a=[];t.results.forEach((function(e,t){return a.push(e)})),e.setState({popularMovieList:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.popularMovieList.map((function(t,a){return n.a.createElement(b,{key:t.id,title:t.title,index:a+1,apiKey:e.props.apiKey,id:t.id,posterPath:t.poster_path,backPath:t.backdrop_path,releaseDate:t.release_date,voteAverage:t.vote_average,movieDesc:t.overview})})),a=this.state.popularMovieList.map((function(t,a){return n.a.createElement("li",{key:a+1,className:"dotList__singleItem"},n.a.createElement("button",{className:"dotList__dotButton ".concat(a+1===1?"dotList__dotButton--active":""," far fa-circle"),"data-dotid":a+1,onClick:e.handleClickDot}))}));return n.a.createElement("div",{className:"main__popularPage popularPage"},n.a.createElement("h2",{className:"popularPage__title"},"Current popular movies"),n.a.createElement("div",{className:"popularPage__listContainer list"},t),n.a.createElement("ul",{className:"popularPage__dotList dotList"},a))}}]),t}(i.Component),y=function(e){var t=e.location,a=void 0!==t.aboutProps?t.aboutProps:"";return void 0!==a?n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{title:a.movieTitle,apiKey:a.apiKey,movieId:a.movieId,posterPath:a.posterPath,backDropPath:a.backDropPath,releaseDate:a.releaseDate,voteAverage:a.voteAverage,movieDesc:a.movieDesc,prevPath:a.prevPath})):""},N=function(e){return n.a.createElement("li",{className:"resultsList__singleItem"},n.a.createElement("img",{src:""!==e.posterPath?"https://image.tmdb.org/t/p/original".concat(e.posterPath):"https://cdn.bestmoviehd.net/share/images/no-cover.png",alt:"Poster img",className:"resultsList__image"}),n.a.createElement("h3",{className:"resultsList__title"},e.movieTitle))},M=(a(36),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleClickButton=function(){a.setState((function(e){return{activeMovieButton:!e.activeMovieButton,activeTvButton:!e.activeTvButton}}))},a.handleClickSearchButton=function(){fetch("http://api.themoviedb.org/3/search/".concat(a.state.activeMovieButton?"movie":"tv","?query=").concat(a.state.inputedValue,"&api_key=").concat(a.props.apiKey)).then((function(e){return e.json()})).then((function(e){var t=[];document.querySelector(".searchPage__noResult").classList.remove("searchPage__noResult--active"),0===e.results.length&&document.querySelector(".searchPage__noResult").classList.add("searchPage__noResult--active"),e.results.forEach((function(e){return t.push(e)})),a.setState({results:t})})).catch((function(e){return console.log(e)}))},a.state={activeMovieButton:!0,activeTvButton:!1,inputedValue:"",results:[]},a}return Object(_.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.results.map((function(e){return n.a.createElement(N,{key:e.id,posterPath:null!==e.poster_path?e.poster_path:"",movieTitle:void 0!==e.title?e.title:e.original_name})}));return n.a.createElement("div",{className:"main__searchPage searchPage"},n.a.createElement("div",{className:"searchPage__container"},n.a.createElement("div",{className:"searchPage__buttonsContainer"},n.a.createElement("button",{className:"searchPage__button searchPage__button--movie ".concat(this.state.activeMovieButton?"searchPage__button--active":""),onClick:this.handleClickButton},"Movie"),n.a.createElement("button",{className:"searchPage__button searchPage__button--tv ".concat(this.state.activeTvButton?"searchPage__button--active":""),onClick:this.handleClickButton},"Tv")),n.a.createElement("div",{className:"searchPage__searchContainer"},n.a.createElement("input",{type:"text",className:"searchPage__searchInput",value:this.state.inputedValue,onChange:function(t){return e.setState({inputedValue:t.target.value})},onKeyUp:function(t){return 13===t.keyCode?e.handleClickSearchButton():""}}),n.a.createElement("button",{className:"searchPage__searchButton fas fa-search",onClick:this.handleClickSearchButton}))),n.a.createElement("p",{className:"searchPage__noResult"},0===this.state.results.length?"No results":""),n.a.createElement("ul",{className:"searchPage__resultsList resultsList"},t))}}]),t}(i.Component)),k=(a(37),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleClickButton=function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("myList"));t.splice(e.target.parentElement.dataset.listid,1),localStorage.setItem("myList",JSON.stringify(t)),a.setState({myList:t})},a.state={myList:JSON.parse(localStorage.getItem("myList"))||[]},a}return Object(_.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.myList.map((function(t,a){return n.a.createElement("li",{className:"listContainer__singleItem","data-listid":a,key:a},n.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(t.image),alt:"Poster img",className:"listContainer__posterImage"}),n.a.createElement("h3",{className:"listContainer__movieTitle"},t.title),n.a.createElement("button",{className:"listContainer__button far fa-times-circle",onClick:e.handleClickButton}))}));return n.a.createElement("div",{className:"main__myListPage myListPage"},n.a.createElement("h2",{className:"myListPage__title"},"My watch List"),0!==this.state.myList.length?n.a.createElement("ul",{className:"myListPage__listContainer listContainer"},t):n.a.createElement("h3",{className:"myListPage__noItems"},"No items in My watch List"))}}]),t}(i.Component)),P=(a(38),function(){return n.a.createElement("div",{className:"main__errorPage errorPage"},n.a.createElement("h2",{className:"errorPage__info"},"The page with the given URL does not exist"))}),C=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/",exact:!0,component:function(){return n.a.createElement(d,{apiKey:e.apiKey})}}),n.a.createElement(m.a,{path:"/news/:name",component:f}),n.a.createElement(m.a,{path:"/popular/:name",component:y}),n.a.createElement(m.a,{path:"/popular",component:function(){return n.a.createElement(E,{apiKey:e.apiKey})}}),n.a.createElement(m.a,{path:"/search",component:function(){return n.a.createElement(M,{apiKey:e.apiKey})}}),n.a.createElement(m.a,{path:"/myList",component:function(){return n.a.createElement(k,{apiKey:e.apiKey})}}),n.a.createElement(m.a,{component:P})))},I=(a(39),function(){return n.a.createElement(o.a,{basename:"/TheMovie"},n.a.createElement("div",{className:"app"},n.a.createElement("header",{className:"header"},n.a.createElement(l,null)),n.a.createElement("main",{className:"main"},n.a.createElement(C,{apiKey:"6aa21fe13ab8b6d9757477e794498a2c"}))))});c.a.render(n.a.createElement(I,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.18422833.chunk.js.map